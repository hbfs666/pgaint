"use strict";(self.webpackChunkkanban_frontend=self.webpackChunkkanban_frontend||[]).push([[41],{1041:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ae});var n=r(9950),o=r(4857),i=r(6589),a=r(6491),l=r(3274),s=r(5333),d=r(2053),c=r(7324),h=r(899),g=r(2819),m=r(1778),u=r(4968),x=r(4745),p=r(8168),y=r(8587),A=r(2004),f=r(8465),k=r(9254),b=r(8463),j=r(2235),w=r(1763),v=r(423);function C(e){return(0,v.Ay)("MuiCard",e)}(0,w.A)("MuiCard",["root"]);var S=r(4414);const z=["className","raised"],W=(0,k.Ay)(j.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),I=n.forwardRef((function(e,t){const r=(0,b.b)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=r,i=(0,y.A)(r,z),a=(0,p.A)({},r,{raised:o}),l=(e=>{const{classes:t}=e;return(0,f.A)({root:["root"]},C,t)})(a);return(0,S.jsx)(W,(0,p.A)({className:(0,A.A)(l.root,n),elevation:o?8:void 0,ref:t,ownerState:a},i))}));function R(e){return(0,v.Ay)("MuiCardContent",e)}(0,w.A)("MuiCardContent",["root"]);const _=["className","component"],E=(0,k.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),M=n.forwardRef((function(e,t){const r=(0,b.b)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=r,i=(0,y.A)(r,_),a=(0,p.A)({},r,{component:o}),l=(e=>{const{classes:t}=e;return(0,f.A)({root:["root"]},R,t)})(a);return(0,S.jsx)(E,(0,p.A)({as:o,className:(0,A.A)(l.root,n),ownerState:a,ref:t},i))}));var T=r(2917);const H=()=>(0,S.jsx)(I,{children:(0,S.jsx)(M,{children:(0,S.jsxs)(h.Ay,{container:!0,direction:"column",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,justifyContent:"space-between",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",width:44,height:44})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",width:44,height:44})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",width:34,height:34})})]})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",sx:{my:2},height:40})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",height:30})})]})})});function N(e){return(0,v.Ay)("MuiCardHeader",e)}const q=(0,w.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),L=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],$=(0,k.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,p.A)({[`& .${q.title}`]:t.title,[`& .${q.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),Y=(0,k.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),B=(0,k.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),P=(0,k.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),O=n.forwardRef((function(e,t){const r=(0,b.b)({props:e,name:"MuiCardHeader"}),{action:n,avatar:o,className:i,component:a="div",disableTypography:l=!1,subheader:s,subheaderTypographyProps:c,title:h,titleTypographyProps:g}=r,m=(0,y.A)(r,L),u=(0,p.A)({},r,{component:a,disableTypography:l}),x=(e=>{const{classes:t}=e;return(0,f.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},N,t)})(u);let k=h;null==k||k.type===d.A||l||(k=(0,S.jsx)(d.A,(0,p.A)({variant:o?"body2":"h5",className:x.title,component:"span",display:"block"},g,{children:k})));let j=s;return null==j||j.type===d.A||l||(j=(0,S.jsx)(d.A,(0,p.A)({variant:o?"body2":"body1",className:x.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:j}))),(0,S.jsxs)($,(0,p.A)({className:(0,A.A)(x.root,i),as:a,ref:t,ownerState:u},m,{children:[o&&(0,S.jsx)(Y,{className:x.avatar,ownerState:u,children:o}),(0,S.jsxs)(P,{className:x.content,ownerState:u,children:[k,j]}),n&&(0,S.jsx)(B,{className:x.action,ownerState:u,children:n})]}))})),D={"& .MuiCardHeader-action":{mr:0}},F=n.forwardRef(((e,t)=>{let{border:r=!1,boxShadow:n,children:o,content:i=!0,contentClass:a="",contentSX:l={},darkTitle:s,secondary:c,shadow:h,sx:g={},title:m,...u}=e;return(0,S.jsxs)(I,{ref:t,...u,sx:{border:r?"1px solid":"none",borderColor:"divider",":hover":{boxShadow:n?h||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"},...g},children:[!s&&m&&(0,S.jsx)(O,{sx:D,title:m,action:c}),s&&m&&(0,S.jsx)(O,{sx:D,title:(0,S.jsx)(d.A,{variant:"h3",children:m}),action:c}),m&&(0,S.jsx)(x.A,{}),i&&(0,S.jsx)(M,{sx:l,className:a,children:o}),!i&&o]})})),U=e=>{let{children:t,delay:r=1e3,Skeleton:o}=e;const[i,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=setTimeout((()=>{a(!0)}),r);return()=>clearTimeout(e)}),[r]),i?(0,S.jsx)(S.Fragment,{children:t}):(0,S.jsx)(o,{})},G=(e,t)=>{const r=e.find((e=>e.group_name===t));if(r){if(1===r.record.length)return 1===r.record.length?r.record[0].qty:0;if(r.record.length>1)return r.record.map((e=>{let{category_name:t,qty:r}=e;return{category_name:t,qty:r}}))}return 0},J=e=>{let{HeaderJson:t,KanbanName:r,CurrentWorkingDay:l,LastRefreshTime:s}=e;const c=(0,u.q)(),[g,m]=(0,n.useState)(0),[p,y]=(0,n.useState)(0),[A,f]=(0,n.useState)(0),k=(0,o.A)(),b=((0,i.A)(k.breakpoints.down("xl")),(0,i.A)(k.breakpoints.down("sm")));return(0,n.useEffect)((()=>{null!=t&&void 0!=t?(m(G(t,"INPUT")),y(G(t,"WIP")),f(G(t,"OUTPUT"))):c("error reading header data","error")}),[t]),(0,S.jsx)(U,{Skeleton:H,children:(0,S.jsx)(F,{border:!1,content:!1,sx:{bgcolor:"dark"===k.palette.mode?"black":"white",color:"#fff",overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:k.palette.secondary[800],borderRadius:"50%",top:{xs:-105,sm:-85},right:{xs:-140,sm:-95}},"&:before":{content:'""',position:"absolute",width:210,height:210,background:k.palette.secondary[800],borderRadius:"50%",top:{xs:-155,sm:-125},right:{xs:-70,sm:-15},opacity:.5}},children:(0,S.jsxs)(a.A,{sx:{p:2},display:"flex",flexDirection:"column",alignItems:"center",children:[(0,S.jsxs)(h.Ay,{container:!0,direction:"row",justifyContent:b?"center":"space-between",children:[b?null:(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,direction:"column",alignItems:"start",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:"0.7rem",fontWeight:400,color:"dark"===k.palette.mode?"white":"black"},children:"Working Day"})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:"1rem",fontWeight:600,color:"dark"===k.palette.mode?"white":"black"},children:l})})]})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:"1.4rem",fontWeight:600,color:"dark"===k.palette.mode?"white":"black"},children:r})}),b?null:(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,direction:"column",alignItems:"end",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:"0.7rem",fontWeight:400,color:"dark"===k.palette.mode?"white":"black"},children:"Last Update"})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:"1rem",fontWeight:600,color:"dark"===k.palette.mode?"white":"black"},children:s})})]})})]}),(0,S.jsx)(x.A,{orientation:"horizontal",flexItem:!0,sx:{borderBottomWidth:3}}),(0,S.jsxs)(h.Ay,{container:!0,direction:"row",justifyContent:"space-between",mt:1,children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,alignItems:"center",direction:"column",justifyContent:"center",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"0.8rem":"1.5rem",fontWeight:700,color:"dark"===k.palette.mode?"white":"black"},children:"WIP"})}),(0,S.jsx)(h.Ay,{item:!0,children:Array.isArray(p)?(0,S.jsx)(h.Ay,{container:!0,direction:"column",alignItems:"stretch",children:p.map(((e,t)=>(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.category_name?(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"0.5rem":"1.2rem",fontWeight:400,color:"dark"===k.palette.mode?"white":"black"},children:e.category_name})}):null,(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"1.5rem":"2.3rem",fontWeight:500,color:"dark"===k.palette.mode?"white":"black",textAlign:"left"},children:e.qty<=0?"\xa0":e.qty})})]})},t)))}):(0,S.jsx)(d.A,{sx:{fontSize:b?"1.8rem":"2.5rem",color:"dark"===k.palette.mode?"white":"black",fontWeight:500},children:p<=0?"\xa0":p})})]})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,alignItems:"center",direction:"column",justifyContent:"center",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"0.8rem":"1.5rem",fontWeight:700,color:"darkorange"},children:"INPUT"})}),(0,S.jsx)(h.Ay,{item:!0,children:Array.isArray(g)?(0,S.jsx)(h.Ay,{container:!0,direction:"column",alignItems:"stretch",children:g.map(((e,t)=>(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.category_name?(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"0.5rem":"1.2rem",fontWeight:400,color:"dark"===k.palette.mode?"white":"black"},children:e.category_name})}):null,(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"1.5rem":"2.3rem",fontWeight:500,color:"dark"===k.palette.mode?"white":"black",textAlign:"left"},children:e.qty<=0?"\xa0":e.qty})})]})},t)))}):(0,S.jsx)(d.A,{sx:{fontSize:b?"1.8rem":"2.5rem",fontWeight:500,color:"dark"===k.palette.mode?"white":"black"},children:g<=0?"\xa0":g})})]})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,alignItems:"center",direction:"column",justifyContent:"center",children:[(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"0.8rem":"1.5rem",fontWeight:700,color:"darkorange"},children:"OUTPUT"})}),(0,S.jsx)(h.Ay,{item:!0,children:Array.isArray(A)?(0,S.jsx)(h.Ay,{container:!0,direction:"column",alignItems:"stretch",children:A.map(((e,t)=>(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsxs)(h.Ay,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[e.category_name?(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"0.5rem":"1.2rem",fontWeight:400,color:"dark"===k.palette.mode?"white":"black"},children:e.category_name})}):null,(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(d.A,{sx:{fontSize:b?"1.5rem":"2.3rem",fontWeight:500,color:"dark"===k.palette.mode?"white":"black",textAlign:"left"},children:e.qty<=0?"\xa0":e.qty})})]})},t)))}):(0,S.jsx)(d.A,{sx:{fontSize:b?"1.8rem":"2.5rem",fontWeight:500,color:"dark"===k.palette.mode?"white":"black"},children:A<=0?null:A})})]})})]})]})})})};var K=r(2960);const V=()=>(0,S.jsx)(I,{children:(0,S.jsx)(M,{children:(0,S.jsxs)(h.Ay,{container:!0,direction:"column",children:[(0,S.jsx)(h.Ay,{item:!0}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",sx:{my:2},height:40})}),(0,S.jsx)(h.Ay,{item:!0,children:(0,S.jsx)(T.A,{variant:"rectangular",height:"55vh"})})]})})}),Q=e=>{let{BodyJson:t}=e;const r=(0,o.A)(),l=(0,i.A)(r.breakpoints.down("sm")),[s,c]=((0,i.A)(r.breakpoints.down("md")),(0,i.A)(r.breakpoints.down("lg")),(0,i.A)(r.breakpoints.down("xl")),(0,n.useState)(null));(0,n.useEffect)((()=>{t&&c(h(t))}),[t,t.body]);const h=e=>{const t={},r=[];e.forEach((e=>{const{group_name:r,group_sequence:n,record:o}=e;t[r]||(t[r]={rowSpan:0,records:[]}),t[r].rowSpan+=o.length,t[r].records.push(...o)}));for(const n in t){const e=t[n];e.records.sort(((e,t)=>e.category_sequence-t.category_sequence)),e.records.forEach(((t,o)=>{const i=t.hourly?t.hourly.reduce(((e,t)=>(e[t.hour]=t.qty,e)),{}):{},a={key:`${n}-${t.category_sequence}-${o}`,group_name:n,category_name:t.category_name,wip:t.wip,...i,total:Object.values(i).reduce(((e,t)=>e+t),0),highlight:t.highlight?t.highlight:"N",isCapacity:t.isCapacity,rowSpan:0===o?e.rowSpan:0,isEndOfGroup:o===e.records.length-1};r.push(a)}))}return r},g=[{onHeaderCell:()=>({style:{backgroundColor:"dark"===r.palette.mode?"#2b2b2b":"lightgray",textAlign:"center",broderRight:"none"}}),dataIndex:"group_name",key:"group_name",width:l?55:40,onCell:(e,t)=>({rowSpan:s[t].rowSpan,style:{backgroundColor:"dark"===r.palette.mode?"#2b2b2b":"lightgray",color:"dark"===r.palette.mode?"white":"black",borderBottom:"solid 5px lightgreen"}}),render:e=>(0,S.jsx)(d.A,{fontSize:l?"0.8rem":"1rem",fontWeight:700,style:{textOrientation:"sideways",writingMode:"vertical-lr",color:"dark"===r.palette.mode?"white":"black"},children:e})},{title:"Summary",fixed:"left",onHeaderCell:()=>({style:{backgroundColor:"lightgreen",textAlign:"center",borderRight:"dark"===r.palette.mode?"solid black":"solid white"}}),children:[{title:(0,S.jsx)(d.A,{textAlign:"center",fontSize:15,fontWeight:700,style:{color:"dark"===r.palette.mode?"white":"black"},children:"Position"}),onHeaderCell:()=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderBottom:"solid 5px lightgreen",borderRight:"solid 2px lightgreen"}}),dataIndex:"category_name",key:"category_name",width:100,fixed:"left",render:(e,t)=>{const n=!0===t.isCapacity?"darkorange":"Y"===t.highlight&&"dark"===r.palette.mode?"yellow":"Y"===t.highlight&&"light"===r.palette.mode?"darkorange":(void 0===t.highlight||"Y"!==t.highlight)&&"dark"===r.palette.mode?"white":"black";return(0,S.jsx)(d.A,{textAlign:"left",fontWeight:700,fontSize:14,style:{color:n},children:e})},onCell:e=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderRight:"solid 2px lightgreen",borderBottom:e.isEndOfGroup?"solid 5px lightgreen":null}})},{title:(0,S.jsx)(d.A,{textAlign:"center",fontSize:15,fontWeight:700,style:{color:"dark"===r.palette.mode?"white":"black"},children:"Current"}),onHeaderCell:()=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderBottom:"solid 5px lightgreen",borderRight:"solid 2px lightgreen"}}),dataIndex:"wip",key:"wip",width:90,render:(e,t)=>{const n=!0===t.isCapacity?"darkorange":"Y"===t.highlight&&"dark"===r.palette.mode?"yellow":"Y"===t.highlight&&"light"===r.palette.mode?"darkorange":(void 0===t.highlight||"Y"!==t.highlight)&&"dark"===r.palette.mode?"white":"black";return-1==e?null:(0,S.jsx)(d.A,{textAlign:"center",fontSize:20,fontWeight:600,style:{color:n},children:e<=0?null:e})},onCell:e=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderRight:"solid 2px lightgreen",borderBottom:e.isEndOfGroup?"solid 5px lightgreen":null}})}]},{title:"Hourly QTY",onHeaderCell:()=>({style:{backgroundColor:"lightgreen",textAlign:"center"}}),children:[0,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map((e=>({title:(0,S.jsx)(d.A,{textAlign:"center",fontSize:15,style:{color:"dark"===r.palette.mode?"white":"black"},children:e}),onHeaderCell:()=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderBottom:"solid 5px lightgreen"}}),dataIndex:`${e<10?"0":""}${e}`,key:`${e<10?"0":""}${e}`,width:55,render:(e,t)=>{const n=!0===t.isCapacity?"darkorange":"Y"===t.highlight&&"dark"===r.palette.mode?"yellow":"Y"===t.highlight&&"light"===r.palette.mode?"darkorange":(void 0===t.highlight||"Y"!==t.highlight)&&"dark"===r.palette.mode?"white":"black";return(0,S.jsx)(d.A,{textAlign:"center",fontSize:20,fontWeight:600,style:{color:n},children:0==e?null:e})},onCell:t=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderRight:23==e?"solid 2px lightgreen":"dark"===r.palette.mode?"dashed 1px white":"dashed 1px black",borderBottom:t.isEndOfGroup?"solid 5px lightgreen":null}})})))},{title:"Total",dataIndex:"total",onHeaderCell:()=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",textAlign:"center",color:"dark"===r.palette.mode?"white":"black"}}),key:"total",width:40,fixed:"right",render:(e,t)=>{const n=!0===t.isCapacity?"darkorange":"Y"===t.highlight&&"dark"===r.palette.mode?"yellow":"Y"===t.highlight&&"light"===r.palette.mode?"darkorange":(void 0===t.highlight||"Y"!==t.highlight)&&"dark"===r.palette.mode?"white":"black";return(0,S.jsx)(d.A,{textAlign:"center",fontSize:20,fontWeight:600,style:{color:n},children:e<=0?null:e})},onCell:e=>({style:{backgroundColor:"dark"===r.palette.mode?"black":"white",borderBottom:e.isEndOfGroup?"solid 5px lightgreen":null}})}],[m,u]=(0,n.useState)("80vh"),x=()=>{const e=window.innerHeight;u(e<600?"55vh":e<900||e<1200?"60vh":e<1500?"70vh":"80vh")};return(0,n.useEffect)((()=>{const e=((e,t)=>{let r;return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];clearTimeout(r),r=setTimeout((()=>e(...o)),t)}})(x,80);return x(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,S.jsx)(U,{Skeleton:V,children:(0,S.jsx)(a.A,{children:s?(0,S.jsx)(K.A,{columns:g,dataSource:s,scroll:{x:"max-content",y:m},pagination:!1,bordered:!0,size:"small"}):null})})},X=e=>{const[t,r]=(0,n.useState)(null);return(0,n.useEffect)((()=>(e?(async()=>{try{if(e&&"wakeLock"in navigator){const e=await navigator.wakeLock.request("screen");r(e),e.addEventListener("release",(()=>{console.log("Wake Lock was released")}))}}catch(t){console.error(`${t.name}, ${t.message}`)}})():t&&t.release().then((()=>{r(null)})),()=>{t&&t.release().then((()=>{r(null)}))})),[e]),t};var Z=r(2334),ee=r(8283),te=r(226),re=r(7305),ne=r(2834);const oe=function(){const[e,t]=(0,n.useState)(!1),r=(0,o.A)();return(0,n.useEffect)((()=>{const e=()=>{document.fullscreenElement||t(!1)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]),(0,S.jsx)(te.A,{onClick:()=>{e?document.exitFullscreen():document.documentElement.requestFullscreen(),t(!e)},variant:"outlined",sx:{borderColor:"dark"===r.palette.mode?"white":"black","&:hover":{borderColor:"dark"===r.palette.mode?"lightgreen":"green",backgroundColor:"dark"===r.palette.mode?"black":"white"}},children:e?(0,S.jsx)(ne.A,{fontSize:"small",sx:{fill:"dark"===r.palette.mode?"white":"black"}}):(0,S.jsx)(re.A,{fontSize:"small",sx:{fill:"dark"===r.palette.mode?"white":"black"}})})},ie=ee.i7`
  20%, 100% { opacity: 1;transform: scale(1); filter: blur(0); }
  50% { opacity: 0.5; transform: scale(1.2); filter: blur(0);}
`,ae=e=>{let{props:t}=e;const[r,x]=(0,n.useState)(!0),[p,y]=(0,n.useState)(!0),A=(0,u.q)(),[f,k]=(0,n.useState)(null),[b,j]=(0,n.useState)(null),[w,v]=(0,n.useState)(!1),[C,z]=(0,n.useState)(null),[W,I]=(0,n.useState)(""),R=(0,o.A)(),_=(0,i.A)(R.breakpoints.down("sm")),E=()=>{y(!p),x(!r),p?(v(!0),A("Auto Refresh Disabled","info")):(v(!1),A("Auto Refresh Enabled","success"))};X(r);const M=(0,m.n)({mutationFn:()=>(0,g.PD)(t.mapping_key),onMutate:()=>{},onError:e=>{A("Error getting kanban : "+e.message,"error"),k(null)},onSuccess:e=>{k(e),A("Kanban fetched successfully","success"),z((new Date).toLocaleTimeString())}});return(0,n.useEffect)((()=>{null==b||w||M.mutate();const e=setInterval((()=>{t.mapping_key&&p&&(k(null),M.mutate())}),6e5);return()=>clearInterval(e)}),[b,p]),(0,n.useEffect)((()=>{t.mapping_key&&t.mapping_key!==b&&(v(!1),j(t.mapping_key))}),[t.mapping_key]),(0,n.useEffect)((()=>{const e=new Date,t=`${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")}/${e.getFullYear()}`;I(t)}),[]),(0,S.jsxs)(a.A,{sx:{padding:_?"8px":"16px"},children:[(0,S.jsx)(l.A,{arrow:!0,children:_?(0,S.jsx)(s.A,{onClick:E,sx:{position:"fixed",top:_?"1px":"8px",left:_?"-5px":"8px",color:p?"green":"red",animation:p?`${ie} 1s infinite`:"none",zIndex:9999},children:(0,S.jsx)(Z.A,{})}):(0,S.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"fixed",top:-10,left:0,width:"100%",padding:"8px",backgroundColor:"dark"===R.palette.mode?"black":"white",zIndex:1e3},children:[(0,S.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:(0,S.jsxs)(d.A,{sx:{color:"dark"===R.palette.mode?"white":"black",marginRight:"8px",fontWeight:1e3},children:["Auto Refresh",(0,S.jsx)(c.A,{checked:p,onChange:E,sx:{"& .MuiSwitch-thumb":{backgroundColor:p?"lightgreen":"red"},"& .MuiSwitch-track":{backgroundColor:p?"green":"red"}}})]})}),(0,S.jsx)(oe,{})]})}),(0,S.jsxs)(h.Ay,{container:!0,direction:"column",spacing:.2,alignItems:"center",justifyContent:"center",children:[(0,S.jsx)(h.Ay,{item:!0,width:"100%",children:f&&f.header?(0,S.jsx)(J,{HeaderJson:f.header,KanbanName:t.kanban_name,CurrentWorkingDay:W,LastRefreshTime:C}):(0,S.jsx)(H,{})}),(0,S.jsx)(h.Ay,{item:!0,width:"100%",maxHeight:"80vh",children:f&&f.body?(0,S.jsx)(Q,{BodyJson:f.body}):(0,S.jsx)(V,{})})]})]})}},2834:(e,t,r)=>{var n=r(4994);t.A=void 0;var o=n(r(9526)),i=r(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen")},2334:(e,t,r)=>{var n=r(4994);t.A=void 0;var o=n(r(9526)),i=r(4414);t.A=(0,o.default)((0,i.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord")},7305:(e,t,r)=>{var n=r(4994);t.A=void 0;var o=n(r(9526)),i=r(4414);t.A=(0,o.default)((0,i.jsx)("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull")}}]);