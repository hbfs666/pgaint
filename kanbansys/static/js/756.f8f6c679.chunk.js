"use strict";(self.webpackChunkkanban_frontend=self.webpackChunkkanban_frontend||[]).push([[756],{8756:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var n=a(9950),r=a(4857),l=a(6491),o=a(2053),i=a(899),d=a(5979),c=a(3788),p=a(6),s=a(3266),u=a(9925),m=a(226),b=a(1778),x=a(2819),y=a(4968),h=a(1970),k=a(4414);const A="110".split(","),v="L5,L6,L7,L11".split(",");const C=e=>{let{setKanbanRecord:t,kanbanRecord:a,setActiveStep:C}=e;const j=(0,y.q)(),[S,f]=(0,n.useState)({kanbanName:"",productType:"",rmaSite:"",envType:""}),[g,T]=(0,n.useState)(!0),I=(0,r.A)(),{reloadContext:O}=(0,h.I)(),L=(0,b.n)({mutationFn:()=>(0,x._9)(S.kanbanName,S.productType,S.rmaSite,"PRO"),onMutate:()=>{T(!1)},onError:e=>{j("Error in creating kanban: "+e.message,"error"),T(!0)},onSuccess:async e=>{T(!1),j("Kanban created successfully","success"),O(),t(e)}});(0,n.useEffect)((()=>{null!=a&&(f({kanbanName:a.kanban_name,productType:a.product_type,rmaSite:a.rma_site,envType:a.env_type}),T(!1))}),[a]);const M=e=>{const{name:t,value:a}=e.target;f({...S,[t]:a})};return(0,k.jsxs)(l.A,{sx:{maxWidth:400,mx:"auto",p:4,boxShadow:3,borderRadius:2,backgroundColor:I.palette.background.paper,color:I.palette.text.primary},children:[(0,k.jsx)(o.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Create Kanban Information"}),(0,k.jsx)("form",{onSubmit:e=>{e.preventDefault(),L.mutate()},id:"create-kanban",children:(0,k.jsxs)(i.Ay,{container:!0,spacing:2,children:[(0,k.jsx)(i.Ay,{item:!0,xs:12,children:(0,k.jsxs)(d.A,{fullWidth:!0,variant:"outlined",disabled:!g,children:[(0,k.jsx)(c.A,{id:"rmaSite-label",style:{color:I.palette.text.secondary},children:"RMA SITE"}),(0,k.jsx)(p.A,{labelId:"rmaSite-label",id:"rmaSite",name:"rmaSite",value:S.rmaSite,onChange:M,label:"RMA SITE",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:I.palette.text.secondary},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:I.palette.primary.main}},inputProps:{style:{color:I.palette.text.primary}},children:A.map((e=>(0,k.jsx)(s.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(i.Ay,{item:!0,xs:12,children:(0,k.jsx)(u.A,{fullWidth:!0,label:"Kanban Name",name:"kanbanName",value:S.kanbanName,onChange:M,disabled:!g,variant:"outlined",id:"kanbanName",InputProps:{style:{color:I.palette.text.primary}},InputLabelProps:{style:{color:I.palette.text.secondary}},sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:I.palette.text.secondary},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:I.palette.primary.main}}})}),(0,k.jsx)(i.Ay,{item:!0,xs:12,children:(0,k.jsxs)(d.A,{fullWidth:!0,variant:"outlined",disabled:!g,children:[(0,k.jsx)(c.A,{id:"productType-label",style:{color:I.palette.text.secondary},children:"Product Type"}),(0,k.jsx)(p.A,{labelId:"productType-label",id:"productType",name:"productType",value:S.productType,onChange:M,label:"Product Type",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:I.palette.text.secondary},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:I.palette.primary.main}},inputProps:{style:{color:I.palette.text.primary}},children:v.map((e=>(0,k.jsx)(s.A,{value:e,children:"L11"==e?"MAC (L11)":"L7"==e?"WATCH (L7)":"L5"==e?"PHONE (L5)":e},e)))})]})}),(0,k.jsxs)(i.Ay,{item:!0,xs:12,mt:2,children:[(0,k.jsx)(m.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:!g,sx:{backgroundColor:"dark"===I.palette.mode?"#4caf50":"#1976d2","&:hover":{backgroundColor:"dark"===I.palette.mode?"#388e3c":"#115293",boxShadow:`0px 4px 6px ${I.palette.primary.main}`},display:g?"block":"none"},children:"Submit"}),(0,k.jsx)(m.A,{variant:"contained",color:"primary",fullWidth:!0,disabled:g,onClick:()=>C(1),sx:{backgroundColor:"#4caf50","&:hover":{backgroundColor:"#388e3c"===I.palette.mode,boxShadow:`0px 4px 6px ${I.palette.primary.main}`},display:g?"none":"block"},children:"Next"})]})]})})]})}}}]);